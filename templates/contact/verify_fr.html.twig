{% extends 'base.html.twig' %}

{% block body %}
	<div
		class="verification-page">

		<!-- Header Section -->

		<header class="verification-header">
			<div class="container">
				<img src="https://regiosuisse.ch/themes/contrib/regiosuisse_theme/logo.svg" alt="Logo" class="logo">
			</div>
			<div class="container">
				<h1>Vérifier les informations de contact</h1>
			</div>
			<div class="container">
				<p style="color: black">
					Veuillez vérifier vos coordonnées et les mettre à jour si nécessaire. Si vous souhaitez être supprimé de notre base de données, cochez la case ci-dessous et enregistrez vos informations.</p>
			</div>
			<div class="container verification-header-seperator"></div>
		</header>
		<!-- Form Section -->
		<div class="container">
			{{ form_start(form) }}
			<div class="verification-form">
				<div class="verification-form-row">
					<div class="verification-form-group">
						<h2>Informations personnelles</h2>
						{{ form_row(form.academicTitle, { label: 'Titre académique', attr: { class: 'form-control' } }) }}
						{{ form_row(form.firstName, { label: 'Prénom', attr: { class: 'form-control' } }) }}
						{{ form_row(form.lastName, { label: 'Nom', attr: { class: 'form-control' } }) }}
						{{ form_row(form.gender, { label: 'Genre', attr: { class: 'form-control' } }) }}
					</div>

					<div class="verification-form-group">
						<h2>Informations de contact</h2>
						{{ form_row(form.email, { label: 'E-mail', attr: { class: 'form-control' } }) }}
						{{ form_row(form.phone, { label: 'Téléphone', attr: { class: 'form-control' } }) }}

						<!-- Multilingual Website field with locale switch buttons -->
						<div class="website" style="display: flex; flex-direction: row;">
							<label id="website-label-de" style="display:none;">Site web (DE)</label>
							<label id="website-label-fr">Site web (FR)</label>
							<label id="website-label-it" style="display:none;">Site web (IT)</label>
							<span>
								<a href="#" class="btn locale-btn" onclick="changeLocale('de', 'website', event)">DE</a>
								<span>|</span>
								<a href="#" class="btn locale-btn" onclick="changeLocale('fr', 'website', event)">FR</a>
								<span>|</span>
								<a href="#" class="btn locale-btn" onclick="changeLocale('it', 'website', event)">IT</a>
							</span>
						</div>
						<div id="website-de" class="locale-input" style="display:none;">
							{{ form_row(form.website, { label: false , attr: { class: 'form-control' }}) }}
						</div>
						<div id="website-fr" class="locale-input">
							{{ form_row(form.translations_fr_website, { label: false, attr: { class: 'form-control' } }) }}
						</div>
						<div id="website-it" class="locale-input" style="display:none;">
							{{ form_row(form.translations_it_website, { label: false, attr: { class: 'form-control' } }) }}
						</div>
					</div>
				</div>

				<div class="verification-form-row">
					<div class="verification-form-group">
						<h2>Adresse</h2>
						{{ form_row(form.street, { label: 'Rue', attr: { class: 'form-control' } }) }}
						{{ form_row(form.zipCode, { label: 'Code postal', attr: { class: 'form-control' } }) }}

						<!-- Multilingual City field with locale switch buttons -->
						<div class="city" style="display: flex; flex-direction: row;">
							<label id="city-label-de" style="display:none;">Ville (DE)</label>
							<label id="city-label-fr">Ville (FR)</label>
							<label id="city-label-it" style="display:none;">Ville (IT)</label>
							<span>
								<a href="#" class="btn locale-btn" onclick="changeLocale('de', 'city', event)">DE</a>
								<span>|</span>
								<a href="#" class="btn locale-btn" onclick="changeLocale('fr', 'city', event)">FR</a>
								<span>|</span>
								<a href="#" class="btn locale-btn" onclick="changeLocale('it', 'city', event)">IT</a>
							</span>
						</div>
						<div id="city-de" class="locale-input" style="display:none;">
							{{ form_row(form.city, { label: false, attr: { class: 'form-control' } }) }}
						</div>
						<div id="city-fr" class="locale-input">
							{{ form_row(form.translations_fr_city, { label: false, attr: { class: 'form-control' } }) }}
						</div>
						<div id="city-it" class="locale-input" style="display:none;">
							{{ form_row(form.translations_it_city, { label: false , attr: { class: 'form-control' }}) }}
						</div>

						{{ form_row(form.country, { label: 'Pays', attr: { class: 'form-control' } }) }}
					</div>

					<div class="verification-form-group">
						<h2>Autres informations</h2>
						{{ form_row(form.language, { label: 'Langue', attr: { class: 'form-control' } }) }}

						<!-- Multilingual Description field with locale switch buttons -->
						<div class="description" style="display: flex; flex-direction: row;">
							<label id="description-label-de" style="display:none;">Description (DE)</label>
							<label id="description-label-fr">Description (FR)</label>
							<label id="description-label-it" style="display:none;">Description (IT)</label>
							<span>
								<a href="#" class="btn locale-btn" onclick="changeLocale('de', 'description', event)">DE</a>
								<span>|</span>
								<a href="#" class="btn locale-btn" onclick="changeLocale('fr', 'description', event)">FR</a>
								<span>|</span>
								<a href="#" class="btn locale-btn" onclick="changeLocale('it', 'description', event)">IT</a>
							</span>
						</div>
						<div id="description-de" class="locale-input" style="display:none;">
							{{ form_row(form.description, { label: false, attr: { class: 'form-control' } }) }}
						</div>
						<div id="description-fr" class="locale-input">
							{{ form_row(form.translations_fr_description, { label: false, attr: { class: 'form-control' } }) }}
						</div>
						<div id="description-it" class="locale-input" style="display:none;">
							{{ form_row(form.translations_it_description, { label: false, attr: { class: 'form-control' } }) }}
						</div>
					</div>

				</div>
				<!-- Employment Details -->
				<div class="verification-form-row">
					<div class="verification-form-group">
						<h2>Postes actuels</h2>
						{% for employment in employments %}
							<div class="employment-item">
								<label>{{ employment.companyName }}</label>
								<p>Fonction:
									{{ employment.role }}</p>
								<div>
									<input type="checkbox" name="removeEmploymentIds[]" value="{{ employment.id }}">
									<span>Je ne travaille plus ici.
									</span>
								</div>
							</div>
						{% endfor %}
					</div>
					<div class="verification-form-group"></div>
				</div>

				<div class="verification-form-row">
					<div class="verification-form-group">
						<div>
							<h2>Se déconnecter
							</h2>
							<div style="display: flex; flex-direction: row; margin-top: 40px; align-content: center;">
								<input type="checkbox" name="delete" value="1">
								<span style="margin-left: 5px; color: black">Je souhaite être supprimé de la base de données.
								</span>
							</div>
						</div>
					</div>
					<div class="verification-form-group"></div>

				</div>
				<div class="form-actions">
					<button class="btn btn-primary">Enregistrer</button>
				</div>
			</div>
			{{ form_end(form) }}
		</div>

		<!-- Footer Section -->
		<footer class="verification-footer">
			<div class="container">
				<p>©
					{{ "now"|date("Y") }}
					regiosuisse - Votre adresse de contact pour le développement régional</p>
				<p>
					<a href="https://www.regiosuisse.ch" target="_blank">www.regiosuisse.ch</a>
				</p>
			</div>
		</footer>
	</div>

	<script>
		// Same JavaScript function as in verify_de.html.twig to handle locale switching
function changeLocale(locale, field, event) {
if (event) {
event.preventDefault();
}
document.getElementById(field + '-de').style.display = 'none';
document.getElementById(field + '-fr').style.display = 'none';
document.getElementById(field + '-it').style.display = 'none';

document.getElementById(field + '-label-de').style.display = 'none';
document.getElementById(field + '-label-fr').style.display = 'none';
document.getElementById(field + '-label-it').style.display = 'none';

document.getElementById(field + '-' + locale).style.display = 'block';
document.getElementById(field + '-label-' + locale).style.display = 'block';
}

document.addEventListener("DOMContentLoaded", function () {
changeLocale('fr', 'website');
changeLocale('fr', 'city');
changeLocale('fr', 'description');
});
	</script>
{% endblock %}
